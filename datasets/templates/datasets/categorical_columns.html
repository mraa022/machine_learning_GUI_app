{% load filter %}
<div class='jumbotron' style='display:none' align='center'>
	<button id='can_continue' type="button" class="submit-btn btn btn-primary"><h1 style='color:yellow'>Continue</h1></button>
</div>
<h1>Select The Categorical Columns</h1>
<div class = 'grid-container'>
	
	{% for column in dataframe_columns %}
		{% if column in numerical_columns %}
			<div class='grid-item numerical_columns' align='center' style='background-color:green'>
				
				<h4><em>Numerical Column</em></h4>
				<hr>
				<h3>{{column}}</h3>
				
				<h4>{{dataframe|get_data_in_column:column|safe}} </h4>
			</div>
			{% elif  request.COOKIES.label_column  == column %}
				<div class='grid-item label_column' style='background-color:yellow' align='center'>
					<h4> <em>Label Column</em></h4>
					<hr>
					<h3>{{column}}</h3>
					<h4>{{dataframe|get_data_in_column:column|safe}} </h4>
					
				</div>
				
			{% else %}
				<div id='{{column}}' class='grid-item' align='center'>
					<h3>{{column}}</h3>
					<h4>{{dataframe|get_data_in_column:column|safe}} </h4>
				</div>
			{% endif %}
			
		{% endfor %}
	</div>
	<script type="text/javascript">
		var first_time_clicked = true;
		$('.grid-item').not('.numerical_columns').not('.label_column').click(function(){
			if (first_time_clicked ){
				$("*").animate({
				scrollTop: 0
				}, 200);
			}
			$(this).addClass("higlight_selected");
			$('.jumbotron').css('display','block');
			first_time_clicked = false;
		});
		$('.submit-btn').click(function(){

			var categorical_columns = $('.higlight_selected');
			var categorical_column_names = [];
			for(var i = 0; i < categorical_columns.length;i++){
				console.log($(categorical_columns[i]).attr('id'))
				categorical_column_names.push($(categorical_columns[i]).attr('id'))
			}

			Cookies.set('categorical_columns',categorical_column_names,{path:'/'})


		});
		
	</script>