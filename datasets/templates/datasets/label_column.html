{% load filter %}
<div class='jumbotron' style='display:none' align='center'>
	<button id='can_continue' type="button" class="submit-btn btn btn-primary"><h1 style='color:yellow'>Continue</h1></button>
</div>
{% if request.COOKIES.label_is == 'discrete' %}
	<h1>Classification</h1>
	{% else %}
	<h1>Regression</h1>
{% endif %}
<h1>Select The Label Column</h1>

<div class = 'grid-container'>
	
	{% for column in dataframe_columns %}
		<div class='grid-item' align='center' id='{{column}}'>
			<h3>{{column}}</h3>
			<h4>{{dataframe|get_data_in_column:column|safe}} </h4>
		</div>
		
		
	{% endfor %}
</div>
<script type="text/javascript">
	var first_time_clicked = true;
	$('.grid-item').not('button').click(function(){
		if (first_time_clicked ){
			$("*").animate({
			scrollTop: 0
			}, 200);
		}

		$('.grid-item').removeClass('higlight_selected');
		$(this).addClass("higlight_selected");
		$('.jumbotron').css('display','block');
		first_time_clicked = false;

	});

	
	$('.submit-btn').click(function(){
			console.log('clicked');
			var column_name = $('.higlight_selected').attr('id')
			Cookies.set('label_column',column_name,{path:'/'});
			
			$('.ajax_part_of_page').html('<div align="center"><img src="https://theplaycave.com.au/wp-content/uploads/2016/10/loading.gif"></div>')
			$.get('{% url "datasets:numerical_columns" %}',function(response){
				$('.ajax_part_of_page').html(response);
		});

		});
	
</script>